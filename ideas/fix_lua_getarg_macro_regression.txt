Regression: Lua GETARG_A/GETARG_B/GETARG_C macros not expanding

Priority: CRITICAL (lua no longer passes)

Problem:
After commit 80dbed3 (Deduplicate IR infrastructure), Lua's GETARG_A, GETARG_B,
GETARG_C, and FIRST_RESERVED macros are not being expanded during preprocessing.
They are left as function calls in the generated assembly, causing linker errors:
  undefined reference to `GETARG_A'
  undefined reference to `GETARG_B'
  undefined reference to `GETARG_C'
  undefined reference to `FIRST_RESERVED'

These macros are defined in Lua's lopcodes.h and are used extensively in lvm.c.
The preprocessing/parser deduplication refactor likely broke macro expansion for
certain patterns.

The macros use complex expressions like:
  #define GETARG_A(i) getarg(i, POS_A, SIZE_A)
  #define getarg(i,pos,size) (cast_int(((i)>>(pos)) & MASK1(size,0)))

This needs urgent investigation to restore lua compilation.
