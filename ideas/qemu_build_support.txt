QEMU Build Support Status
=========================

Summary: QEMU 10.2.50 compiles, links, and runs correctly using ccc-x86.
The emulator boots a Linux kernel with serial console output (console=ttyS0)
working properly, including running busybox init from an initramfs.
RISC-V softmmu target also compiles and links. ARM aarch64 target has
compilation errors in translate-sve.c (1915 undeclared helper symbols).

Build Status:
- Configure: PASS
- Compilation: PASS (all 1806 files for x86_64-softmmu)
- Linking: PASS
- Runtime: PASS - boots Linux kernel with serial output, runs busybox shell
- Full make build: 2911/2913 targets succeed (2 test binaries fail to link)

Supported Targets:
- x86_64-softmmu: FULL PASS (compile, link, boot Linux, serial output works)
- riscv64-softmmu: compile + link OK, runtime untested
- aarch64-softmmu: FAIL (1915 undeclared helper symbols in translate-sve.c)

Build Steps:
  1. Copy QEMU source to writable location (cp -r /deps/qemu /tmp/qemu_build)
  2. Configure out-of-tree:
     cd /tmp/qemu_build && mkdir build && cd build
     ../configure --cc=/path/to/ccc-x86
       --target-list=x86_64-softmmu --disable-docs --disable-gtk --disable-sdl
       --disable-opengl --disable-virglrenderer --disable-spice --disable-vte
       --disable-curses
  3. Build: ninja -j$(nproc) qemu-system-x86_64
  4. Test: ./qemu-system-x86_64 -kernel bzImage -initrd initramfs.cpio.gz
         -append "console=ttyS0 rdinit=/init" -nographic -no-reboot -m 256M

Known Issues Fixed:
  1. __has_attribute macro aliasing (cleanup attribute) - FIXED
  2. Bitfield ICE in global_init_compound_struct - FIXED
  3. Response file (@file) support - FIXED
  4. Compound literal array init (CPU double-registration) - FIXED
  5. Bool pointer array init (migration crash) - FIXED
  6. Preprocessor MAX_PENDING_NEWLINES too low for qapi-introspect.c - FIXED
  7. _Generic selection in global/static initializer arrays - FIXED
  8. xgetbv inline assembly instruction not handled - FIXED
  9. Thin archive (.a with !<thin> magic) not supported by linker - FIXED
 10. Assembler C-comment stripping inside .asciz strings - FIXED
     The strip_c_comments() function stripped /* ... */ patterns even inside
     quoted string literals in .asciz directives. QEMU's test-crypto-der.c
     has DER-encoded RSA keys containing literal 0x2F 0x2A (/*) byte sequences
     which were being treated as comment starts, truncating the string data.
     Fixed in all three assemblers (x86, ARM, RISC-V) by adding string-aware
     tracking to strip_c_comments().
 11. Serial console output fixed (was previously reported as missing) - FIXED
     Serial output from guest Linux kernel now works correctly with -nographic.
 12. Enum pointer subtraction rejected (6 files failed to compile) - FIXED
     QEMU's VMSTATE_UINT32 macro does (uint32_t*)0 - (typeof(field)*)0 as a
     compile-time type assertion. When the field is an enum type, this was
     rejected because pointee_types_compatible() didn't treat enums as
     compatible with integer types. Fixed by adding enum-to-integer
     compatibility check in sema/analysis.rs.
 13. Standalone linker: shared libraries not in group resolution loop - FIXED
     Bare .so files from command-line args were loaded before the archive
     group loop, so symbols introduced by archive member extraction
     (e.g., libqemuutil.a members needing libglib-2.0.so) were not resolved.
     Fixed by deferring .so files into the group resolution loop alongside
     .a archives.

Remaining Issues:
  1. ARM aarch64-softmmu target: 1915 undeclared helper symbols in
     translate-sve.c. These are gen_helper_sme2_* and gen_helper_sve2p1_*
     functions generated from DEF_HELPER macros in helper-sme.h.
     Root cause needs investigation (likely a preprocessor or macro
     expansion issue specific to the ARM TCG helper generation).
