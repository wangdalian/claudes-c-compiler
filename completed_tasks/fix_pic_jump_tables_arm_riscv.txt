Task: Fix PIC/PIE jump table emission for ARM and RISC-V backends
Status: completed
Started: 2026-01-27
Completed: 2026-01-27

Problem:
The ARM and RISC-V backends emitted absolute .xword/.dword entries in jump
tables (.rodata section). When compiling with -fpie/-fpic, this generated
R_AARCH64_ABS64 / R_RISCV_64 relocations. The Linux kernel's EFI stub linker
rejects these: "absolute symbol references not allowed in the EFI stub"

This was found via delta debugging on ARM with
drivers/firmware/efi/libstub/gop.c (compiled with -fpie).

Root cause:
1. ARM and RISC-V backends had no PIC-aware jump table emission
2. The pic_mode flag was never propagated to ARM/RISC-V codegen state

Fix:
1. Added set_pic() methods to ArmCodegen and RiscvCodegen
2. Wired up pic_mode propagation in Target::generate_assembly_with_opts()
3. In PIC mode, emit relative .word entries (.word target - table_base)
   instead of absolute .xword/.dword entries
4. Updated dispatch code to load 32-bit offsets and add to table base

This matches what the x86 backend already implements for PIC jump tables.

Files changed:
- src/backend/arm/codegen/codegen.rs (set_pic, PIC jump table emission)
- src/backend/riscv/codegen/codegen.rs (set_pic, PIC jump table emission)
- src/backend/mod.rs (wire up pic_mode for ARM/RISC-V)
- tests/pic-jump-table-relative/ (regression test)
